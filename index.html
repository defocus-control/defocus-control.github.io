<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="Dual-Camera Defocus Control by Learning to Refocus">
  <meta name="keywords" content="defocus-control, dual-camera, computational photography">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DC2: Dual-Camera Defocus Control by Learning to Refocus</title>

  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="stylesheet" href="./static/css/before_after.css">
  <link rel="icon" href="./static/images/cameraicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
  <link rel="stylesheet" href="./static/css/magnify.css">
  <script src="//code.jquery.com/jquery-2.2.4.min.js"></script>
  <script src="./static/js/jquery.magnify.js"></script>

  <script src="twentytwenty/js/jquery-3.2.1.min.js" defer type="text/javascript"></script>
  <script src="twentytwenty/js/jquery.event.move.js" defer type="text/javascript"></script>
  <script src="twentytwenty/js/jquery.twentytwenty.js" defer type="text/javascript"></script>
  <link rel="stylesheet" href="twentytwenty/css/twentytwenty.css" type="text/css" media="screen" />
</head>
<body>



<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://hadizayer.github.io">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://hadizayer.github.io/AutoPhoto_jpgage/">
            AutoPhoto
          </a>
        </div>
      </div>
    </div>

  </div>
</nav>


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title"><b>DC</b><sup>2</sup>: <font color="#de5246 ">D</font>ual-<font color="#de5246 ">C</font>amera <font color="#de5246 ">D</font>efocus <font color="#de5246 ">C</font>ontrol by Learning to Refocus</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://hadizayer.github.io">Hadi Alzayer</a><sup>üê¢,<img src="./static/images/google_logo.png" width="20" style="position: relative; top: 4px;"></sup>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span class="author-block">
              <a href="https://sites.google.com/view/abdullah-abuolaim/">Abdullah Abuolaim</a><sup><img src="./static/images/google_logo.png" width="20" style="position: relative; top: 4px;"></sup>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span class="author-block">
               <a href="https://www.linkedin.com/in/ryan-chan-74599014/">Leung Chun Chan</a><sup><img src="./static/images/google_logo.png" width="20" style="position: relative; top: 4px;"></sup>&nbsp;&nbsp;&nbsp;&nbsp;
            </span>
            <span class="author-block">
               <a href="https://www.linkedin.com/in/yang-yang-92b5a3160/">Yang Yang</a><sup><img src="./static/images/google_logo.png" width="20" style="position: relative; top: 4px;"></sup>&nbsp;&nbsp;&nbsp;&nbsp;
            </span>
            <span class="author-block">
             <a href="https://www.linkedin.com/in/ying-chen-lou-1175542/">Ying Chen</a><sup><img src="./static/images/google_logo.png" width="20" style="position: relative; top: 4px;"></sup>&nbsp;&nbsp;&nbsp;&nbsp;
            </span>
            <span class="author-block">
              <a href="https://jbhuang0604.github.io">Jia-Bin Huang</a><sup>üê¢</sup>&nbsp;&nbsp;&nbsp;&nbsp;
            </span>
            <span class="author-block">
              <a href="https://abhishekkar.info">Abhishek Kar</a><sup><img src="./static/images/google_logo.png" width="20" style="position: relative; top: 4px;"></sup>
            </span>
          </div>

          <div class="is-size-5 publication-authors">

            <span class="author-block"><sup>üê¢</sup>University of Maryland &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <span class="author-block"><sup><img src="./static/images/google_logo.png" width="20" style="position: relative; top: 4px;"></sup>Google</span>
            <h2 class="title is-3">CVPR 2023</h2>
            <!-- <span class="author-block"><sup></span> -->
          </div>
          <script>
            $(document).ready(function() {
              // var $zoom = $('.zoom').magnify(
              // //   {
              // //   magnifiedWidth: 1000,
              // //   magnifiedHeight: 753
              // // }
              // );
              // $zoom.destroy();
            });
          </script>
<style>
.magnify > .magnify-lens {
  width: 130px;
  height: 130px;
}
</style>

<style>
  /* Style the buttons */
  .btn {
    border: none;
    outline: none;
    padding: 10px 16px;
    background-color: #f1f1f1;
    cursor: pointer;
    font-size: 18px;
    border-radius: 8px;
  }
  
  /* Style the active class, and buttons on mouse-over */
  .active, .btn:hover {
    background-color: #666;
    color: white;
  }

  </style>

<!-- .magnify > .magnify-lens {
  width: 50px;
  height: 50px;
} -->

          <!-- <a href="./images/teaser.png">
            <img id="sample-teaser" src="./images/teaser.png" alt="Sample image" class="zoom">
          </a> -->


          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <!-- arxiv Link add TODO. -->
              <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <!-- arxiv Link add TODO. -->
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- Video Link. -->
              <!-- <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-youtube"></i>
                  </span>
                  <span>Video</span>
                </a>
              </span> -->
              <!-- Code Link TODO. -->
              <!-- <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span> -->
              <!-- Dataset Link. TODO -->
              <!-- <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="far fa-images"></i>
                  </span>
                  <span>Data</span>
                  </a> -->
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- <section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <video id="teaser" autoplay muted loop playsinline height="100%">
        <source src="https://homes.cs.washington.edu/~kpar/nerfies/videos/teaser.mp4"
                type="video/mp4">
      </video>
      <h2 class="subtitle has-text-centered">
        <span class="dnerf">Nerfies</span> turns selfie videos from your phone into
        free-viewpoint
        portraits.
      </h2>
    </div>
  </div>
</section> -->


<section class="hero is-light is-small">
  <div class="hero-body">
    <div class="container">
      <div id="results-carousel" class="carousel results-carousel">
        <div class="item item-teaser">
          <video poster="" id="teaser" autoplay controls muted loop playsinline height="100%">
            <source src="./videos_compressed/teaser.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-night">
          <video poster="" id="night" autoplay controls muted loop playsinline height="100%">
            <source src="./videos_compressed/night.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-plant">
          <video poster="" id="plant" autoplay controls muted loop playsinline height="100%">
            <source src="./videos_compressed/plant.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-vase" >
          <video poster="" id="vase" autoplay controls muted loop playsinline>
            <source src="./videos_compressed/vase_video.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-splitfocus_vid">
          <video poster="" id="splitfocus_video" autoplay controls muted loop playsinline height="100%">
            <source src="./videos_compressed/splitfocus_video.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-kitchen">
          <video poster="" id="kitchen" autoplay controls muted loop playsinline height="100%">
            <source src="./videos_compressed/kitchen.mp4"
                    type="video/mp4">
          </video>
        </div>

        <div class="item item-mug">
          <video poster="" id="mug_video" autoplay controls muted loop playsinline height="100%">
            <source src="./videos_compressed/mug_video.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-lightfixture">
          <video poster="" id="lightfixture" autoplay controls muted loop playsinline height="100%">
            <source src="./videos_compressed/lightfixture_video.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-dog" >
          <video poster="" id="dog" autoplay controls muted loop playsinline>
            <source src="./videos_compressed/dog_video.mp4"
                    type="video/mp4">
          </video>
        </div>
        <!-- <div class="item item-mask">
          <video poster="" id="mask" autoplay controls muted loop playsinline height="100%">
            <source src="https://homes.cs.washington.edu/~kpar/nerfies/videos/mask.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-coffee">
          <video poster="" id="coffee" autoplay controls muted loop playsinline height="100%">
            <source src="https://homes.cs.washington.edu/~kpar/nerfies/videos/coffee.mp4"
                    type="video/mp4">
          </video>
        </div>
        <div class="item item-toby">
          <video poster="" id="toby" autoplay controls muted loop playsinline height="100%">
            <source src="https://homes.cs.washington.edu/~kpar/nerfies/videos/toby2.mp4"
                    type="video/mp4">
          </video>
        </div> -->
      </div>
    </div>
    <div  class="columns is-centered has-text-centered" style="text-align: center;">  
       <p><br/>Using dual-camera, we can control defocus by simply passing a defocus map to the model (shown on top left). First frame of each video is the input view. <br/> Please view in full screen for highest quality.</p> </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">

    <div class="columns is-centered">

    </div>

    <div class="columns is-centered has-text-centered">
    <div class="columns is-centered">
      <div class="column is-full-width">
        <h2 class="title is-3">Defocus-Control Demo</h2>

        <!-- Interpolating. -->
        <!-- <h3 class="title is-4">Interpolating states</h3> -->
        <div class="content has-text-justified">
          <p>
            Using a single capture with dual-camera, we can perform post-capture refocus and DoF control by simulating different apertures. Below is the captured frame that is used as an input. You can interactively change the refocus and depth of field to see how our method can be used in the real world.
          </p>
        </div>
        <div class="columns is-vcentered interpolation-panel">
          <!-- <div class="column is-3 has-text-centered">
            <img src="./static/images/interpolate_start.jpg"
                 class="interpolation-image"
                 alt="Interpolate start reference image."/>
            <p>Start Frame</p>
          </div> -->
          <div class="column interpolation-video-column">
            <div id="interpolation-image-wrapper">
              Loading...
            </div>
            <p><i><font color="red">Click</font> on a subject to refocus</i></p>
          <p><i>and use the slider for DoF Control</i></p>
          <div class="field is-horizontal">
            <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
              <!-- <label class="label" style="width: 10%; vertical-align: middle; margin: 0; padding: 0;"><img src="./static/images/large_aperture.png" width="30" border="1"></label> -->
              <label class="label" style="width: 8%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/large_aperture.png" width="30" border="1"></label>
              <input class="slider is-fullwidth is-large is-info" id="interpolation-slider" step="1" min="0" max="100" value="0" type="range" style="width: 84%;">
              <label class="label" style="width: 8%; vertical-align: middle; margin: 0; padding: 0;"><img src="./static/images/small_aperture.png" width="30" border="1"></label>
            </div>
          </div>

          
          <p>
            <br/>
          The interactive demo above is using a SINGLE capture with dual-camera. A photo captured with the main camera, also called wide (<b>W</b>), which has high resolution and shallow depth of field (DoF) and a photo from the ultra-wide camera (<b>UW</b>) which has a deep DoF but lower resolution. Our method can combine the two inputs to get a controllable DoF while maintaining high resolution! <br/> Below we show the inputs for this example. 
          <br/><br/>
        </p>
        <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
          <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/src_w.jpg" border="1"></label>
          <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/src_uw2.jpg" border="1"></label>
        </div>
        <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
          <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><b>W</b> Input</label>
          <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><b>UW</b> Input</label>
        </div>
      </div>
        <!--/ Interpolating. -->

        <!-- Re-rendering. -->
        <!-- <h3 class="title is-4">Re-rendering the input video</h3>
        <div class="content has-text-justified">
          <p>
            Using <span class="dnerf">Nerfies</span>, you can re-render a video from a novel
            viewpoint such as a stabilized camera by playing back the training deformations.
          </p>
        </div>
        <div class="content has-text-centered">
          <video id="replay-video"
                 controls
                 muted
                 preload
                 playsinline
                 width="75%">
            <source src="./static/videos/replay.mp4"
                    type="video/mp4">
          </video>
        </div> -->
        <!--/ Re-rendering. -->

      </div>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <!-- <p>
            We present the first method capable of photorealistically reconstructing a non-rigidly
            deforming scene using photos/videos captured casually from mobile phones.
          </p>
          <p>
            Our approach augments neural radiance fields
            (NeRF) by optimizing an
            additional continuous volumetric deformation field that warps each observed point into a
            canonical 5D NeRF.
            We observe that these NeRF-like deformation fields are prone to local minima, and
            propose a coarse-to-fine optimization method for coordinate-based models that allows for
            more robust optimization.
            By adapting principles from geometry processing and physical simulation to NeRF-like
            models, we propose an elastic regularization of the deformation field that further
            improves robustness.
          </p>
          <p>
            We show that <span class="dnerf">Nerfies</span> can turn casually captured selfie
            photos/videos into deformable NeRF
            models that allow for photorealistic renderings of the subject from arbitrary
            viewpoints, which we dub <i>"nerfies"</i>. We evaluate our method by collecting data
            using a
            rig with two mobile phones that take time-synchronized photos, yielding train/validation
            images of the same pose at different viewpoints. We show that our method faithfully
            reconstructs non-rigidly deforming scenes and reproduces unseen views with high
            fidelity.
          </p> -->
          Smartphone cameras today are increasingly approaching the versatility and quality of professional cameras through a combination of hardware and software advancements.
          However, fixed aperture remains a key limitation, preventing users from controlling the depth of field (DoF) of captured images.
          At the same time, many smartphones now have multiple cameras with <i>different</i> fixed apertures - specifically, an ultra-wide camera with wider field of view and deeper DoF and a higher resolution primary camera with shallower DoF.

          <p>
          In this work, we propose <b>DC<sup>2</sup></b>, a system for <b>defocus control</b> for synthetically varying camera aperture, focus distance and arbitrary defocus effects by fusing information from such a dual-camera system. Our key insight is to leverage real-world smartphone camera dataset by using image refocus as a proxy task for learning to control defocus. Quantitative and qualitative evaluations on real-world data demonstrate our system's efficacy where we outperform state-of-the-art on defocus deblurring, bokeh rendering, and image refocus. Finally, we demonstrate creative post-capture defocus control enabled by our method, including tilt-shift and content-based defocus effects. </p>
        </div>
      </div>
    </div>
    <!--/ Abstract. -->

    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">How Did We Build It?</h2>
        <div class="content has-text-justified">
          We can't collect dataset of smartphone photos with variable depth of fields (due to the fix aperture), but we CAN refocus!  Since image refocus requires deblurring and blurring different regions of the image at the same time, that means that image refocus is at least as hard as DoF Control. Based on this observation, we hypothesize that a model trained on image refocus can also perform DoF control, so we use image refocus as a <i>proxy task</i> to learn arbitrary defocus contorl. So to train a model, we collected a dataset of 100 focus-stacks. <br> <br>
          <center>
          <img src="./static/images/dataset_vis_png.png"  width="500">
        </center>
        <br> 
        We train our defocus control model (Detail Fusion Network -- DFNet) to refocus using dual-camera input, by giving it input and target defocus maps. The value of each pixel in the defocus map is proportional to how blurry that pixel is. <br> <br>
        <center>
          <img src="./static/images/refocus_idea_website.jpg"  width="500">
        </center>

        <br> 
        Then after training the model to refocus, we can perform arbitrary defocus control by simply maniuplating the target defocus map at test time! <br> <br>

        <center>
          <img src="./static/images/test_time_demonstration_webstie.jpg" width="500">
        </center>
          
        </div>
      </div>
    </div>

    <div class="columns is-centered has-text-centered">
      <div class="column is-full-width">
        <h2 class="title is-3">Comparison with Baselines</h2>
        <div class="content has-text-justified">

          <h3 class="title is-4">Deblurring</h3>

          <button class="btn active" id="example1_deblurring_btn" onclick="changedata(0)">Example 1</button>
          <button class="btn" id="example2_deblurring_btn" onclick="changedata(1)">Example 2</button>
          <label class="label"><br/></label>

          <div id="kitchen_deblurring">
          <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
            <label class="label" id="example1_deblurring_w" style="width: 49%; vertical-jpg: middle;margin: 0; padding: 0;">
              <img src="./static/images/comparisons/kitchen_src_w.jpg" border="1" class="zoom">
            </label>

            <label class="label" id="example1_deblurring_uw" style="width: 49%; vertical-align: middle;margin: 0; padding: 0; display: none;">
              <img src="./static/images/comparisons/match_fov_uw_final_kitchen.jpg" border="1" class="zoom">
            </label>


            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
              <img src="./static/images/comparisons/kitchen_GT.jpg" border="1" class="zoom"></label>
          </div>
          <!-- <img src=" border="1" class="zoom"> -->
          <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; ">
            <button class="btn active" id="example1_W_input" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
            onclick="toggleimage('example1_deblurring_w', 'example1_deblurring_uw', 'example1_W_input', 'example1_UW_input')"
            >W Input</button>
            <button class="btn" id="example1_UW_input" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
            onclick="toggleimage('example1_deblurring_uw', 'example1_deblurring_w', 'example1_UW_input', 'example1_W_input')"
            >UW Input</button>

            <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Ground Truth</label>
          </div>
          <label class="label"><br/></label>

          <div class="compare">
            <!-- The before image is first -->
            <img class="slider-image" src="./static/images/comparisons/kitchen_baseline.jpg" />
            <!-- The after image is last -->
            <img class="slider-image" src="./static/images/comparisons/kitchen_ours.jpg" />
           </div>
           </div>

           <div id="book_deblurring">
           <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
            <label class="label" id="example2_deblurring_w" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
              <img src="./static/images/comparisons/book_src_w.jpg" border="1" class="zoom">
            </label>
            <label class="label" id="example2_deblurring_uw" style="width: 49%; vertical-align: middle;margin: 0; padding: 0; display: none;">
              <img src="./static/images/comparisons/book_uw.jpg" border="1" class="zoom">
            </label>
            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
              <img src="./static/images/comparisons/book_GT.jpg" border="1" class="zoom"></label>
          </div>
          <!-- <img src=" border="1" class="zoom"> -->
          <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; ">
            <button class="btn active" id="example2_W_input" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
            onclick="toggleimage('example2_deblurring_w', 'example2_deblurring_uw', 'example2_W_input', 'example2_UW_input')"
            >W Input</button>
            <button class="btn" id="example2_UW_input" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
            onclick="toggleimage('example2_deblurring_uw', 'example2_deblurring_w', 'example2_UW_input', 'example2_W_input')"
            >UW Input</button>

            <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Ground Truth</label>
          </div>
          <label class="label"><br/></label>

          <div class="compare">
            <!-- The before image is first -->
            <img class="slider-image" src="./static/images/comparisons/book_baseline.jpg" />
            <!-- The after image is last -->
            <img class="slider-image" src="./static/images/comparisons/book_ours.jpg" />
           </div>
           </div>
           <center><h3 class="title is-5"><a href="http://lyruan.com/Projects/DRBNet/index.html">DRBNet</a> | Ours</h3></center>

           <h3 class="title is-4">Refocusing</h3>

           <button class="btn active" id="example1_refocusing_btn" onclick="changeexample('cafeteria_refocusing', 'microkitchen_refocusing', 'example1_refocusing_btn', 'example2_refocusing_btn')">Example 1</button>
           <button class="btn" id="example2_refocusing_btn" onclick="changeexample('microkitchen_refocusing', 'cafeteria_refocusing', 'example2_refocusing_btn',  'example1_refocusing_btn')">Example 2</button>
           <label class="label"><br/></label>

           <div id="cafeteria_refocusing">
            <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
              <label class="label" id="example1_refocusing_w" style="width: 49%; vertical-jpg: middle;margin: 0; padding: 0;">
                <img src="./static/images/comparisons/cafeteria_src_w.jpg" border="1" class="zoom">
              </label>
  
              <label class="label" id="example1_refocusing_uw" style="width: 49%; vertical-align: middle;margin: 0; padding: 0; display: none;">
                <img src="./static/images/comparisons/cafeteria_uw.jpg" border="1" class="zoom">
              </label>
  
  
              <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
                <img src="./static/images/comparisons/cafeteria_GT.jpg" border="1" class="zoom"></label>
            </div>
            <!-- <img src=" border="1" class="zoom"> -->
            <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; ">
              <button class="btn active" id="example1_W_input_refocusing" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
              onclick="toggleimage('example1_refocusing_w', 'example1_refocusing_uw', 'example1_W_input_refocusing', 'example1_UW_input_refocusing')"
              >W Input</button>
              <button class="btn" id="example1_UW_input_refocusing" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
              onclick="toggleimage('example1_refocusing_uw', 'example1_refocusing_w', 'example1_UW_input_refocusing', 'example1_W_input_refocusing')"
              >UW Input</button>
  
              <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Ground Truth</label>
            </div>
            <label class="label"><br/></label>
  
            <div class="compare">
              <!-- The before image is first -->
              <img class="slider-image" src="./static/images/comparisons/cafeteria_baseline.jpg" />
              <!-- The after image is last -->
              <img class="slider-image" src="./static/images/comparisons/cafeteria_ours.jpg" />
             </div>
             </div>
  
             <div id="microkitchen_refocusing">
             <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
              <label class="label" id="example2_refocusing_w" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
                <img src="./static/images/comparisons/microkitchen_src_w.jpg" border="1" class="zoom">
              </label>
              <label class="label" id="example2_refocusing_uw" style="width: 49%; vertical-align: middle;margin: 0; padding: 0; display: none;">
                <img src="./static/images/comparisons/microkitchen_uw.jpg" border="1" class="zoom">
              </label>
              <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
                <img src="./static/images/comparisons/microkitchen_target.jpg" border="1" class="zoom"></label>
            </div>
            <!-- <img src=" border="1" class="zoom"> -->
            <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; ">
              <button class="btn active" id="example2_W_input_refocusing" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
              onclick="toggleimage('example2_refocusing_w', 'example2_refocusing_uw', 'example2_W_input_refocusing', 'example2_UW_input_refocusing')"
              >W Input</button>
              <button class="btn" id="example2_UW_input_refocusing" style="width: 23.5%;  margin: 0; padding: 0; text-align: center;"
              onclick="toggleimage('example2_refocusing_uw', 'example2_refocusing_w', 'example2_UW_input_refocusing', 'example2_W_input_refocusing')"
              >UW Input</button>
  
              <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Ground Truth</label>
            </div>
            <label class="label"><br/></label>
  
            <div class="compare">
              <!-- The before image is first -->
              <img class="slider-image" src="./static/images/comparisons/mircokitechen_baseline.jpg" />
              <!-- The after image is last -->
              <img class="slider-image" src="./static/images/comparisons/microkitchen_ours.jpg" />
             </div>
             </div>
             <center><h3 class="title is-5">Deblur (<a href="http://lyruan.com/Projects/DRBNet/index.html">DRBNet</a>) + Blur (<a href="https://juewenpeng.github.io/BokehMe/">BokehMe</a>) | Ours</h3></center>
             <script>
              const images = document.querySelectorAll('.slider-image');
              console.log("length of images " + images.length); // Output: NodeList [img.my-image, img.my-image, img.my-image]
            </script>
           <!-- <h3 class="title is-4">Blurring</h3>

           <button class="btn active" id="example1_blurring_btn" onclick="changeexample('game_room_blurring', 'office_plant_blurring', 'example1_blurring_btn', 'example2_blurring_btn')">Example 1</button>
           <button class="btn" id="example2_blurring_btn" onclick="changeexample('office_plant_blurring', 'game_room_blurring', 'example2_blurring_btn', 'example1_blurring_btn')">Example 2</button>
           <label class="label"><br/></label>
 
           <div id="game_room_blurring">
           <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
             <label class="label" id="example1_deblurring_w" style="width: 49%; vertical-jpg: middle;margin: 0; padding: 0;">
               <img src="./static/images/comparisons/gameroom_aif.jpg" border="1" class="zoom">
             </label>

 
 
             <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
               <img src="./static/images/comparisons/gameroom_src_w.jpg" border="1" class="zoom"></label>
           </div>
           <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; ">
            <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Input</label>
             <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Ground Truth</label>
           </div>
           <label class="label"><br/></label>
 
           <div class="compare">
             <img src="./static/images/comparisons/gameroom_baseline.jpg" />
             <img src="./static/images/comparisons/gameroom_ours.jpg" />
            </div>
            </div>
 
            <div id="office_plant_blurring">
            <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
             <label class="label" id="example2_deblurring_w" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
               <img src="./static/images/comparisons/office_plant_aif.jpg" border="1" class="zoom">
             </label>
             <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;">
               <img src="./static/images/comparisons/office_plant_src_w.jpg" border="1" class="zoom"></label>
           </div>

           <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; ">
            <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Input</label>
             <label class="label" style="width: 49%; margin: 0; padding: 0; text-align: center;">Ground Truth</label>
           </div>
           <label class="label"><br/></label>
 
           <div class="compare">
             <img src="./static/images/comparisons/office_plant_baseline.jpg" />
             <img src="./static/images/comparisons/office_plant_ours.jpg"/>
            </div>
            </div>
            <center><h3 class="title is-5">Baseline | Ours</h3></center>  -->
          
        </div>
      </div>
    </div>
    <div class="columns is-centered has-text-centered">
      <div class="column is-full-width">
        <h2 class="title is-3">Creative Applications</h2>
        <div class="content has-text-justified">
        <body>Our method allows for arbitrary defocus control by simply providing the desired defocus map to the model. The defocus control does not have to be physically realistic, so you can go wild with your imaginations! Here we show some examples that we thought of, and include the source and target defocus maps used for each example. <br/></body>

          <!-- <div id="comparison">
            <figure>
              <div id="divisor"></div>
            </figure>
            <input type="range" min="0" max="100" value="50" id="compare_slider" oninput="moveDivisor()">
          </div> -->

          <h3 class="title is-4">Tilt shift effect</h3>
          <body><a href="https://www.adobe.com/creativecloud/photography/discover/tilt-shift-photography.html"> Tilt shift </a> can be used to control the depth of field, and produce minitaure-like effect. With hardware, it is done by tilting the lens with respect to the sensor, but here we simulate it by setting the target defocus map to correspond to a very narrow DoF. At the top of the image below, you can view the source defocus map (all-in-focus so all black) and target defocus map used for this example. </body>
          <div class="compare">
            <!-- The before image is first -->
            <img class="slider-image" src="./static/images/tiltshift_input_def.jpg"/>
            <!-- The after image is last -->
            <img class="slider-image" src="./static/images/tiltshift_output_def.jpg" />
            
           </div>
           <center><h3 class="title is-5">Input &nbsp;&nbsp;|&nbsp;&nbsp;Output</h3></center>

           <h3 class="title is-4">Split focus effect</h3>
           <body><a href="https://www.studiobinder.com/blog/split-diopter-lens/">Split focus</a> is a cinematic effect used in movies to emphasize and focus on two subjects at different distances from the camera. It often requires custom lens to make it work with hardware, but we can simply do it in software with our method. Here we set the left half of the photo to be focused on the woman, and the right half is focused on the man and with a reduced DoF for emphasis. You can compare the source defocus map and target defocus map used to generate this photo.</body>
          <div class="compare">
            <!-- The before image is first -->
            <img class="slider-image" src="./static/images/splitfocus_input_def.jpg" />
            <!-- The after image is last -->
            <img class="slider-image" src="./static/images/splitfocus_output_def.jpg" />
           </div>

           <center><h3 class="title is-5">Input &nbsp;&nbsp;|&nbsp;&nbsp;Output</h3></center>

           <h3 class="title is-4">Content driven defocus control</h3>
           <body>Here we choose to highlight the woman and dog by simply setting them to be all-in-focus and blur out everything else. We simply set the target defocus map to be the segmentation mask we created.</body>
           <center>
           <div class="compare" style=" width: 65%;">
            <!-- The before image is first -->
            <img class="slider-image" src="./static/images/seg_mask_input_def.jpg"/>
            <!-- The after image is last -->
            <img class="slider-image" src="./static/images/seg_mask_output_def.jpg"/>
           </div>
          </center>

          <center><h3 class="title is-5">Input &nbsp;&nbsp;|&nbsp;&nbsp;Output</h3></center>

          <!-- <div id="comparison_splitfocus">
            <figure>
              <div id="divisor"></div>
            </figure>
            <input type="range" min="0" max="100" value="50" id="compare_slider" oninput="moveDivisorSplitfocus()">
          </div> -->
          

          <!-- <body>
            <div class='container'>
              <div class='img background-img'></div>
              <div class='img foreground-img'></div>
              <input type="range" min="1" max="100" value="50" class="slider" name='slider' id="slider_before_after">
              <div class='slider-button'></div>
            </div>
          </body> -->

          <!-- <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/tiltshift_src_w.jpg" border="1"></label>
            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/tiltshift_output.jpg" border="1"></label>
          </div> -->
<!-- 
          <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/split_focus_input.jpg" border="1"></label>
            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/split_focus_output.jpg" border="1"></label>
          </div>

          <div class="field-body" style="display:flex; flex-wrap: wrap; justify-content: space-between; align-items: center; vertical-align: middle;">
            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/seg_mask_input.jpg" border="1"></label>
            <label class="label" style="width: 49%; vertical-align: middle;margin: 0; padding: 0;"><img src="./static/images/seg_mask_output.jpg" border="1"></label>
          </div> -->
          
        </div>
      </div>
    </div>

    <!-- Paper video. -->
    <!-- <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Video</h2>
        <div class="publication-video">
          <iframe src="https://www.youtube.com/embed/MrKrnHhk8IA?rel=0&amp;showinfo=0"
                  frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div> -->
    <!--/ Paper video. -->
  </div>
</section>

<!-- <div class="columns is-centered has-text-centered">
  <div class="column is-four-fifths">
    <h2 class="title">Quantitative Evaluation</h2>
  </div>
</div>

  <section class="section" id="References">
    <div class="container is-max-desktop content">
      <h2 class="title">References</h2>
    </div>
  </section> -->






<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@inproceedings{alzayer2023defocuscontrol,
      ttitle={DC2: Dual-Camera Defocus Control by Learning to Refocus},
      author={Alzayer, Hadi and Abuolaim, Abdullah and Chun Chan, Leung and Yang, Yang and Chen Lou, Ying and Huang, Jia-Bin and Kar, Abhishek},
      booktitle={Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition},
      pages={--},
      year={2023}
    }</code></pre>
</div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link"
         href="https://homes.cs.washington.edu/~kpar/nerfies/videos/nerfies_paper.pdf">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/keunhong" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            This great website template was borrowed from <a
              href="https://github.com/nerfies/nerfies.github.io">nerfies</a>!
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>